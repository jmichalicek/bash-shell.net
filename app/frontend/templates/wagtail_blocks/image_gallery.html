{% load wagtailcore_tags wagtailimages_tags %}
{% load static %}
<div class="mb-8 js-lightbox" id="{{ value.id }}">
  <h4 class="text-white text-xl font-semibold mb-4">{{ value.title }}</h4>
  <ul class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 list-none p-0 m-0">
    {% for image_item in value.image_items %}
      <li class="p-4 text-center border border-orange-accent rounded-lg bg-card-bg/50 hover:bg-card-bg/80 hover:border-orange-hover transition-all duration-200 list-none flex flex-col h-full">
        {% image image_item.image original format-webp as original_webp %}
        <a class="text-inherit break-words no-underline flex flex-col h-full hover:text-orange-accent" href="{{ original_webp.url }}" title="{{ image_item.caption }}" data-caption="{{ image_item.caption }}">
          <div class="text-center h-48 flex items-center justify-center overflow-hidden rounded mb-2 flex-grow">
            {% image image_item.image max-200x200 format-webp class="max-w-full max-h-full h-auto w-auto object-contain transition-all duration-200 border-2 border-white rounded hover:border-orange-accent" alt=image_item.caption loading="lazy" %}
          </div>
          <span class="w-full block mx-auto text-gray-300 mt-auto text-sm overflow-hidden text-ellipsis whitespace-nowrap">{{ image_item.caption }}</span>
        </a>
      </li>
    {% endfor %}
  </ul>
</div>
