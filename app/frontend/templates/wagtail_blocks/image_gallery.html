{% load wagtailcore_tags wagtailimages_tags %}
{% load static %}
<div class="mb-8 js-lightbox" id="{{ value.id }}">
  <h4 class="text-white text-xl font-semibold mb-4">{{ value.title }}</h4>
  <ul class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4" style="list-style: none; margin: 0; padding: 0;">
    {% for image_item in value.image_items %}
      <li style="list-style: none;">
        {% image image_item.image original format-webp as original_webp %}
        <a class="text-orange-accent break-words no-underline flex flex-col h-full hover:text-orange-hover" href="{{ original_webp.url }}" title="{{ image_item.caption }}" data-caption="{{ image_item.caption }}">
          <div class="text-center h-48 p-3 overflow-hidden mb-2 flex-grow flex items-center justify-center">
            {% image image_item.image max-200x200 format-webp class="max-w-full max-h-full h-auto w-auto object-contain" loading="lazy" %}
          </div>
          <span class="w-full block mx-auto mt-auto text-sm overflow-hidden text-ellipsis whitespace-nowrap px-2 pb-2">{{ image_item.caption }}</span>
        </a>
      </li>
    {% endfor %}
  </ul>
</div>
