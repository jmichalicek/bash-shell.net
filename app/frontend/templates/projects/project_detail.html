{% extends 'base.html' %}
{% load blog_tags %}
{% block primary %}
  <div class="w-full px-3">
    <div class="w-full">
      <div class="flex" role="tablist">
        <a id="info-tab" class="inline-block py-2 px-4 text-white hover:text-orange-hover border border-orange-accent border-b-0 bg-slate-700 -mb-px rounded-t-lg" href="#info-content" data-toggle="tab" role="tab" aria-controls="info-content" aria-selected="true">Info</a>
        <a id="news-tab" class="inline-block py-2 px-4 text-white hover:text-orange-hover rounded-t-lg" href="#news-content" data-toggle="tab" role="tab" aria-controls="news-content" aria-selected="false">News</a>
      </div>
    </div>
    <div class="w-full bg-dark-bg border-t border-orange-accent">
      <div class="flex flex-wrap p-4">
        <div class="w-full md:w-2/3">
          <div class="tab-content pr-4">
            <div class="tab-pane active" id="info-content" role="tabpanel" aria-labelledby="info-tab">
              {{ object.description|render_markdown|safe }}
            </div>
            <div class="tab-pane hidden" id="news-content" role="tabpanel" aria-labelledby="news-tab">
              <dl>
                {% for news in project_news %}
                  <dt>{{ news.date_created }}</dt>
                  <dd>{{ news.content|render_markdown|safe }}</dd>
                {% empty %}
                  <dd>Nothing to see here, move along.</dd>
                {% endfor %}
              </dl>
            </div>
          </div>
        </div>
        <div class="w-full md:w-1/3">
          <div class="bg-card-bg p-4">
            <h2 class="text-xl font-semibold text-white mb-3">{{ object.name }}</h2>
            <div class="text-white">
              <dl class="space-y-2">
                <div class="flex">
                  <dt class="font-medium text-gray-300 w-24">Created:</dt>
                  <dd>{{ project.created_date|date:"M d, Y" }}</dd>
                </div>
                <div class="flex">
                  <dt class="font-medium text-gray-300 w-24">Updated:</dt>
                  <dd>{{ project.modified_date|date:"M d, Y" }}</dd>
                </div>
                <div class="flex">
                  <dt class="font-medium text-gray-300 w-24">Latest News:</dt>
                  <dd>{% if project_news.count > 0 %}{{ project_news.0.date_created|date:"M d, Y" }}{% endif %}</dd>
                </div>
              </dl>
              {% if object.project_hosting_services.all.exists %}
                <p class="mt-4 text-gray-300">View this project on:</p>
                <p class="mt-2">
                  {% for host in project.project_hosting_services.all %}
                    <a class="text-orange-accent hover:text-orange-hover" href="{{ host.project_url|default:'#' }}">{{ host.hosting_service.name }}</a>
                    {% if host.public_vcs_uri and host.vcs %} {% if host.project_url %} - {% endif %}
                      <a class="text-orange-accent hover:text-orange-hover" href="{{ host.public_vcs_uri }}">{{ host.get_vcs_display }}</a>
                    {% endif %}
                    {% if not forloop.last %}<br />{% endif %}
                  {% endfor %}
                </p>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
{% endblock %}
